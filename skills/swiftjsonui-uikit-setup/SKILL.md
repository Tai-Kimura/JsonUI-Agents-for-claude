---
name: swiftjsonui-uikit-setup
description: Setup and development workflow for SwiftJsonUI with UIKit mode.
---

# SwiftJsonUI Setup (UIKit Mode)

## NEVER CREATE FILES MANUALLY

**DO NOT create any files yourself.** All files are generated by commands:

- JSON files → `g view`, `g partial`, `g collection` commands
- Swift files → `setup`, `build` commands
- Config files → `init` command

---

## Checklist

**You are NOT done until ALL items are checked:**

- [ ] Step 1: Project root confirmed (.xcodeproj exists)
- [ ] Step 2: sjui_tools installed
- [ ] Step 3: sjui.config.json created
- [ ] Step 4: Port configured (8081)
- [ ] Step 5: setup command executed
- [ ] Step 6: Splash view generated
- [ ] Step 7: AppDelegate/SceneDelegate modified
- [ ] Step 8: sjui build executed
- [ ] Step 9: Final verification passed

---

## Step 1: Go to project root
```bash
cd /path/to/project  # Where .xcodeproj is located
ls *.xcodeproj       # VERIFY: Must show .xcodeproj file
```

## Step 2: Copy sjui_tools to project
```bash
cp -r ~/.jsonui-cli/sjui_tools ./
ls sjui_tools/bin/sjui  # VERIFY: File must exist
```

## Step 3: Initialize
```bash
./sjui_tools/bin/sjui init --mode uikit
ls sjui.config.json  # VERIFY: File must exist
```

## Step 4: Verify and Edit sjui.config.json

**Required checks:**
1. `source_path` - Must be the actual source directory relative to project root
2. `layouts_directory` - Usually `Layouts`
3. `view_directory` - Usually `View`
4. `viewmodel_directory` - Usually `ViewModel`
5. `data_directory` - Usually `Data`
6. `resource_manager_directory` - Usually `Generated` or `Core`
7. `hotloader.port` - Set to `8081`

## Step 5: Run setup
```bash
./sjui_tools/bin/sjui setup
```

## Step 6: Generate Splash view
```bash
./sjui_tools/bin/sjui g view Splash --root
```

## Step 7: Edit AppDelegate.swift

Add hot reload setup in `application(_:didFinishLaunchingWithOptions:)`:

```swift
import SwiftJsonUI

func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {

    SwiftJsonUIConfiguration.shared.colorProvider = { key in
        guard let key = key as? String else { return nil }
        return ColorManager.shared.color(for: key)
    }

    #if DEBUG
    JSONLayoutLoader.copyResourcesToCache()
    HotLoader.instance.isHotLoadEnabled = true
    #endif

    return true
}
```

## Step 8: Build to generate resource managers
```bash
./sjui_tools/bin/sjui build
```

## Step 9: Final Verification

Verify these files exist:
1. `sjui_tools/bin/sjui`
2. `sjui.config.json`
3. `{source_path}/View/Splash/`
4. `{source_path}/{resource_manager_directory}/StringManager.swift`
5. `{source_path}/{resource_manager_directory}/ColorManager.swift`
6. `{source_path}/{layouts_directory}/Resources/strings.json`
7. `{source_path}/{layouts_directory}/Resources/colors.json`

## Hotloader Command
```bash
./sjui_tools/bin/sjui hotload listen
```

